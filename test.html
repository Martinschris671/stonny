<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>STONNY - Our Impact (Refined Speed & Suffix)</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Roboto+Mono:wght@400;500;700&display=swap");

      :root {
        --tbn-font-primary: "Inter", "Helvetica Neue", Helvetica, Arial,
          sans-serif;
        --tbn-font-numbers: "Roboto Mono", monospace;
        --tbn-color-white: #ffffff;
        --tbn-color-black: #000000;
        --tbn-color-off-black: #111111;
        --tbn-color-text-primary: var(--tbn-color-off-black);
        --tbn-color-text-secondary: #555555;
        --tbn-color-border: #eaeaea;

        --tbn-animation-smooth: cubic-bezier(0.4, 0, 0.2, 1);
        --tbn-animation-gentle: cubic-bezier(0.25, 0.46, 0.45, 0.94);
        --tbn-animation-counter: cubic-bezier(0.23, 1, 0.32, 1);
      }

      body,
      html {
        margin: 0;
        padding: 0;
        font-family: var(--tbn-font-primary);
        background-color: #f0f0f0;
        color: var(--tbn-color-text-primary);
        overflow-x: hidden;
      }
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      .tbn-section {
        padding: 90px 40px;
        background-color: var(--tbn-color-white);
        position: relative;
        overflow: hidden;
        min-height: auto;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .tbn-container {
        max-width: 1000px;
        width: 100%;
        margin: 0 auto;
        text-align: center;
        position: relative;
        z-index: 1;
      }
      .tbn-section-header {
        margin-bottom: 60px;
        opacity: 0;
        transform: translateY(30px);
      }
      .tbn-section-header.is-visible {
        opacity: 1;
        transform: translateY(0);
        transition: opacity 0.8s var(--tbn-animation-gentle) 0.2s,
          transform 0.8s var(--tbn-animation-gentle) 0.2s;
      }
      .tbn-main-title {
        font-size: clamp(1.8rem, 4vw, 2.5rem);
        font-weight: 700;
        margin-bottom: 10px;
        color: var(--tbn-color-off-black);
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      .tbn-subtitle {
        font-size: clamp(0.95rem, 2vw, 1.1rem);
        line-height: 1.6;
        color: var(--tbn-color-text-secondary);
        max-width: 600px;
        margin: 0 auto;
      }
      .tbn-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(100%, 180px), 1fr));
        gap: 30px 25px;
      }
      .tbn-stat-item {
        padding: 15px 10px;
        opacity: 0;
        transform: translateY(30px);
      }
      .tbn-stat-item.is-visible {
        opacity: 1;
        transform: translateY(0);
        transition-property: opacity, transform;
        transition-duration: 0.7s;
        transition-timing-function: var(--tbn-animation-gentle);
      }

      /* UPDATED .tbn-stat-number-wrapper and .tbn-stat-suffix */
      .tbn-stat-number-wrapper {
        display: flex; /* Use flex for better alignment */
        align-items: baseline; /* Align number and suffix by their text baseline */
        justify-content: center; /* Keep content centered if stat-item is centered */
        line-height: 1; /* Prevent wrapper from taking extra height */
      }
      .tbn-stat-number {
        font-family: var(--tbn-font-numbers);
        font-size: clamp(2.8rem, 7vw, 4.5rem);
        font-weight: 700;
        line-height: 1; /* Ensure consistent line height */
        color: var(--tbn-color-text-primary);
        display: inline;
      }
      .tbn-stat-suffix {
        font-family: var(--tbn-font-numbers);
        font-weight: 500;
        font-size: 2rem; /* Relative to number size - Makes it bigger */
        line-height: 1;
        margin-left: 4px;
        color: var(--tbn-color-text-primary);
        display: inline-block;
        position: relative;
        top: -0.25em; /* Fine-tune vertical alignment - adjust as needed */
      }
      /* END UPDATES */

      .tbn-stat-label {
        font-size: clamp(0.8rem, 1.8vw, 0.95rem);
        font-weight: 500;
        color: var(--tbn-color-text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 5px;
        display: block;
      }

      @media (max-width: 768px) {
        .tbn-section {
          padding: 70px 20px 80px;
        }
        .tbn-section-header {
          margin-bottom: 50px;
        }
        .tbn-main-title {
          font-size: clamp(1.6rem, 5vw, 2rem);
        }
        .tbn-subtitle {
          font-size: clamp(0.9rem, 3.5vw, 1rem);
        }
        .tbn-stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 25px;
        }
        .tbn-stat-number {
          font-size: clamp(2.2rem, 8vw, 3rem);
        }
        .tbn-stat-label {
          font-size: clamp(0.75rem, 2.2vw, 0.85rem);
        }
        .tbn-stat-suffix {
          top: -0.2em;
        } /* Adjust suffix alignment for mobile if needed */
      }
      @media (max-width: 480px) {
        .tbn-stats-grid {
          gap: 20px;
        }
        .tbn-stat-item {
          padding: 10px 5px;
        }
      }
    </style>
  </head>
  <body>
    <section class="tbn-section">
      <div class="tbn-container">
        <header class="tbn-section-header" id="impactHeader">
          <h2 class="tbn-main-title">Our Impact by Numbers</h2>
          <p class="tbn-subtitle">
            Quantifying our commitment to excellence and the trust placed in us
            by our valued clients and partners.
          </p>
        </header>

        <div class="tbn-stats-grid">
          <div class="tbn-stat-item">
            <div class="tbn-stat-number-wrapper">
              <span class="tbn-stat-number" data-target="150" data-suffix="+"
                >0</span
              >
            </div>
            <span class="tbn-stat-label">Projects Completed</span>
          </div>
          <div class="tbn-stat-item">
            <div class="tbn-stat-number-wrapper">
              <span class="tbn-stat-number" data-target="25">0</span>
            </div>
            <span class="tbn-stat-label">Ongoing Projects</span>
          </div>
          <div class="tbn-stat-item">
            <div class="tbn-stat-number-wrapper">
              <span class="tbn-stat-number" data-target="12" data-suffix="+"
                >0</span
              >
            </div>
            <span class="tbn-stat-label">Years of Experience</span>
          </div>
          <div class="tbn-stat-item">
            <div class="tbn-stat-number-wrapper">
              <span class="tbn-stat-number" data-target="98" data-suffix="%"
                >0</span
              >
            </div>
            <span class="tbn-stat-label">Client Satisfaction</span>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const sectionHeader = document.getElementById("impactHeader");
        const statItems = document.querySelectorAll(".tbn-stat-item");

        if (sectionHeader) {
          const headerObserver = new IntersectionObserver(
            (entries) => {
              if (entries[0].isIntersecting) {
                sectionHeader.classList.add("is-visible");
                headerObserver.unobserve(sectionHeader);
              }
            },
            { threshold: 0.1 }
          );
          headerObserver.observe(sectionHeader);
        }

        function animateCount(element, target, suffix = "") {
          let current = 0;
          // UPDATED: Slower, smoother animation parameters
          const duration = 1800; // Total duration in ms (e.g., 1.8 seconds)
          const frameRate = 60; // Target frames per second
          const totalFrames = Math.round((duration / 1000) * frameRate);
          const increment = target / totalFrames;
          // Ensure stepTime is reasonable, avoid too many setTimeout calls for small targets
          const stepTime = Math.max(duration / totalFrames, 1000 / frameRate);

          element.textContent = "0";

          let frame = 0;
          function updateCount() {
            frame++;
            current += increment;

            if (frame < totalFrames && current < target) {
              element.textContent = Math.ceil(current);
              setTimeout(updateCount, stepTime);
            } else {
              element.textContent = target;
              if (suffix) {
                const parentWrapper = element.parentNode;
                if (
                  parentWrapper &&
                  !parentWrapper.querySelector(".tbn-stat-suffix")
                ) {
                  const suffixSpan = document.createElement("span");
                  suffixSpan.classList.add("tbn-stat-suffix");
                  suffixSpan.textContent = suffix;
                  parentWrapper.appendChild(suffixSpan);
                }
              }
            }
          }
          setTimeout(updateCount, 50);
        }

        let itemDelayCounter = 0;
        const itemObserver = new IntersectionObserver(
          (entries, observerInstance) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.style.transitionDelay = `${
                  itemDelayCounter * 0.12
                }s`;
                entry.target.classList.add("is-visible");

                const numberElement =
                  entry.target.querySelector(".tbn-stat-number");
                if (
                  numberElement &&
                  !numberElement.classList.contains("has-counted")
                ) {
                  const targetNumber = parseInt(
                    numberElement.dataset.target,
                    10
                  );
                  const suffix = numberElement.dataset.suffix || "";
                  animateCount(numberElement, targetNumber, suffix);
                  numberElement.classList.add("has-counted");
                }

                itemDelayCounter++;
                observerInstance.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.2 }
        );

        statItems.forEach((item) => itemObserver.observe(item));
      });
    </script>
  </body>
</html>
